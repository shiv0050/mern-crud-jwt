{"ast":null,"code":"var _jsxFileName = \"/Users/shivanshgupta/product-recommendation/frontend/src/components/restaurants.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport RestaurantDataService from \"../services/restaurant.js\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Restaurant = props => {\n  _s();\n\n  const initialRestaurantState = {\n    id: null,\n    name: \"\",\n    address: {},\n    cuisine: \"\",\n    reviews: []\n  };\n  const [restaurant, setRestaurants] = useState(initialRestaurantState);\n\n  const getRestaurant = id => {\n    RestaurantDataService.get(id).then(response => {\n      setRestaurants(response.data);\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  useEffect(() => {\n    getRestaurant(props.match.params.id);\n  }, [props.match.params.id]);\n\n  const deleteReview = (reviewId, index) => {\n    RestaurantDataService.deleteReview(reviewId).then(response => {\n      setRestaurants(prevState => {\n        prevState.reviews.splice(index, 1);\n        return { ...prevState\n        };\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: restaurant ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: restaurant.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Cuisine:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), restaurant.cuisine, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 66\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), restaurant.address.building, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 75\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/restaurants/\" + props.match.params.id + \"/review\",\n        className: \"btn btn-primary\",\n        children: \"Add Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: restaurant.reviews.length > 0 ? restaurant.reviews.map((review, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-4 pb-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-text\",\n                  children: [review.text, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 63,\n                    columnNumber: 54\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"User:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 41\n                  }, this), review.user, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 76\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Date:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 41\n                  }, this), review.date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 76\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 37\n                }, this), props.user && props.user.id === review.user_id && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    onClick: () => deleteReview(review._id),\n                    className: \"btn btn-primary\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: {\n                        pathname: \"/restaurants/\" + props.match.params.id + \"/review\",\n                        state: {\n                          currentReview: review\n                        }\n                      },\n                      className: \"btn btn-primary\",\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 70,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-4\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No reviews yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No restaurant selected.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Restaurant, \"oc26Ysu5YwGnIyUiCTH0sfy/HJc=\");\n\n_c = Restaurant;\nexport default Restaurant;\n\nvar _c;\n\n$RefreshReg$(_c, \"Restaurant\");","map":{"version":3,"names":["React","useState","RestaurantDataService","Link","useEffect","Restaurant","props","initialRestaurantState","id","name","address","cuisine","reviews","restaurant","setRestaurants","getRestaurant","get","then","response","data","console","log","catch","e","match","params","deleteReview","reviewId","index","prevState","splice","building","length","map","review","text","user","date","user_id","_id","pathname","state","currentReview"],"sources":["/Users/shivanshgupta/product-recommendation/frontend/src/components/restaurants.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport RestaurantDataService from \"../services/restaurant.js\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nconst Restaurant= props => {\n    const initialRestaurantState={\n        id: null,\n        name:\"\",\n        address:{},\n        cuisine:\"\",\n        reviews:[]\n    }\n    const [restaurant,setRestaurants] = useState(initialRestaurantState)\n    const getRestaurant =id=>{\n        RestaurantDataService.get(id)\n        .then(response => {\n            setRestaurants(response.data)\n            console.log(response.data)\n        })\n        .catch(e=>{\n            console.log(e)\n        })\n    }\n    useEffect(()=>{\n        getRestaurant(props.match.params.id);\n  }, [props.match.params.id])\n    const deleteReview =(reviewId, index)=>{\n        RestaurantDataService.deleteReview(reviewId)\n        .then(response =>{\n            setRestaurants((prevState) =>{\n                prevState.reviews.splice(index,1)\n                return({\n                    ...prevState\n                })\n            })\n        })\n        .catch(e=>{\n            console.log(e)\n        })    \n    }\n  return (\n    <div>\n        {restaurant?(\n            <div>\n                <h5>{restaurant.name}</h5>\n                <p>\n                    <strong>Cuisine:</strong>{restaurant.cuisine}<br/>\n                    <strong>Address:</strong>{restaurant.address.building}<br/>\n                </p>\n                <Link to={\"/restaurants/\"+ props.match.params.id+\"/review\"} className=\"btn btn-primary\">\n                    Add Review\n                </Link>\n                <h6>Reviews</h6>\n                <div className=\"row\">\n                    {restaurant.reviews.length>0?(\n                     restaurant.reviews.map((review,index)=>{\n                        return(\n                            <div className=\"col-lg-4 pb-1\" key={index}>\n                                <div className=\"card\">\n                                    <div className=\"card-body\">\n                                    <p className=\"card-text\">\n                                        {review.text}<br/>\n                                        <strong>User:</strong>{review.user}<br/>\n                                        <strong>Date:</strong>{review.date}<br/>\n                                    </p>\n                                    {props.user && props.user.id === review.user_id &&\n                                        <div className=\"row\">\n                                            <a onClick={()=> deleteReview(review._id)} className=\"btn btn-primary\">\n                                                <Link to={{\n                                                    pathname: \"/restaurants/\"+ props.match.params.id+\"/review\",\n                                                    state: {\n                                                        currentReview: review\n                                                    }\n                                                }} className=\"btn btn-primary\">\n                                                    Edit\n                                                </Link>\n                                            </a>\n                                        </div>\n                                    }\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                     })\n                    ):(\n                        <div className=\"col-sm-4\">\n                            <p>No reviews yet.</p>\n                        </div>\n                    )}\n                </div>\n                </div>\n        ):(\n            <div>\n                <br/>\n                <p>No restaurant selected.</p>\n            </div>\n        )}\n    </div>\n  );\n}\n\nexport default Restaurant;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}